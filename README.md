# A1
# Genome Assembly of *Escherichia coli* Using Velvet & Oases

## Overview
This analysis provides step-by-step instructions to assemble the *Escherichia coli* genome from short-read Illumina sequencing data (SRA ID: SRR21904868) using Velvet and Oases. The analysis was performed on Indiana University's big red desktop, using `sra-tools` for data retrieval and `QUAST` for assembly evaluation.

## Software and Tools Used
- **Conda**: To manage environments and dependencies.
- **SRA Toolkit** (`fasterq-dump`): To download the sequencing data.
- **Velvet**: For genome assembly.
- **Oases**: An extension of Velvet for transcriptome assembly (also used for genome assembly in this context).
- **QUAST**: For quality assessment of the assembled contigs.

## Step-by-Step Instructions

### 1. Set Up the Environment
Load Miniconda to manage tools and dependencies:
```bash
module load miniconda
```

Create and activate a new Conda environment:
```bash
conda create --name A1
conda activate A1
```

Install the necessary tools (SRA Toolkit, Velvet, and Oases) using Bioconda:
```bash
conda install -c bioconda sra-tools velvet oases
```

### 2. Download Sequencing Data
Use the SRA Toolkit to download the paired-end reads from the SRA database:
```bash
fasterq-dump SRR21904868
```

This will produce two FASTQ files: `SRR21904868_1.fastq` and `SRR21904868_2.fastq`.

### 3. Genome Assembly with Velvet

#### Step 1: Run `velveth` to create hash directories for different k-mer sizes. Hereâ€™s an example for k-mer size 23:
```bash
velveth velvet_op_k23 23 -shortPaired -fastq -separate SRR21904868_1.fastq SRR21904868_2.fastq
```

#### Step 2: Run `velvetg` to perform the assembly:
```bash
velvetg velvet_op_k23
```

Repeat these steps for other k-mer values (e.g., k27, k49, k57, k63, k77) by changing the second argument in `velveth`.

### 4. Genome Assembly with Oases

#### Step 1: Initialize hash directories using `velveth`, similar to Velvet:
```bash
velveth oases_op_k23 23 -shortPaired -fastq -separate SRR21904868_1.fastq SRR21904868_2.fastq
```

#### Step 2: Run `velvetg` for the Oases-specific assembly, ensuring `-read_trkg` is set to `yes`:
```bash
velvetg oases_op_k23 -read_trkg yes
```

#### Step 3: Run Oases to perform the assembly:
```bash
oases oases_op_k23
```

Repeat this for different k-mer sizes (k27, k49, k57, k63, k77).

### 5. Quality Assessment with QUAST
Evaluate the quality of the assemblies (both Velvet and Oases) using QUAST. You can do this by specifying the contigs generated by Velvet and Oases for different k-mer sizes:
```bash
quast /N/u/asrashai/Quartz/velvet_op_*/contigs.fa --min-contig 100 -o /N/u/asrashai/Quartz/velvet_quast_final_results
```

For Oases:
```bash
quast /N/u/asrashai/Quartz/oases_op_*/contigs.fa --min-contig 100 -o /N/u/asrashai/Quartz/oases_quast_final_result
```

### 6. Download Results to Local System
After running QUAST, download the final assembly quality reports from the Carbonate system to your local machine:
```bash
scp -r asrashai@Quartz.uits.iu.edu:/N/u/asrashai/Quartz/oases_quast_final_result/ "C:/Users/asra tasneem/OneDrive/Desktop/"
```

### 7. Results
The output includes:
- **Velvet**: A set of assemblies across different k-mer sizes, stored in `/velvet_op_*` directories.
- **Oases**: Corresponding assemblies in `/oases_op_*` directories.
- **QUAST Reports**: Comprehensive statistics about each assembly (number of contigs, N50, total length, largest contig, etc.) located in `/velvet_quast_final_results` and `/oases_quast_final_result`.

---
### Result files
The following reports have been generated and included for detailed assembly statistics:

- **Oases Report**:
  
HTML: oases_report.html

PDF: oases_report.pdf

- **Velvet Report**:
  
HTML: velvet_report.html

PDF: velvet_report.pdf


These reports contain detailed assembly statistics for both Oases and Velvet across different k-mer sizes, including metrics such as N50, total contig length, and contig distribution.

---

###Results Summary

The following k-mer sizes were used for both Velvet and Oases: 23, 27, 49, 57, 63, 77.

**Velvet Results**:

- Number of contigs: Varied from 22,606 to 35,125 depending on k-mer size.
-Largest contig: Up to 2,945 bp at k-mer 77.
-Total length: Ranged from ~2.69 Mbp to ~5.71 Mbp.
-N50: Improved with increasing k-mer sizes, reaching 474 bp at k-mer 77.

**Oases Results:**

-Number of contigs: Similar range, from 22,607 to 35,127.
-Largest contig: Up to 2,945 bp at k-mer 77.
-Total length: Ranged from ~2.69 Mbp to ~5.64 Mbp.
-N50: Also improved with higher k-mer sizes, reaching 474 bp at k-mer 77.


**Output Files**
The results of the assembly and quality assessments can be found in the following reports:

- Velvet Report: velvet_report.html, velvet_report.pdf
- Oases Report: oases_report.html, oases_report.pdf
- Transposed Velvet Report: velvet_transposed_report
- Transposed Oases Report: oases_transposed_report
